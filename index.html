<!DOCTYPE html>
<html lang="fr" class="scroll-smooth antialiased">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <!-- SEO & Identity -->
    <title>Laforêt Saint-Avertin | Votre Estimation Gratuite</title>
    <meta name="description" content="Votre Estimation Gratuite — Spécialiste immobilier à Saint-Avertin et en Touraine. Agence familiale experte pour votre projet de vente.">
    
    <!-- Favicons & App Icons (Standard Google/Apple) -->
    <link rel="icon" type="image/png" href="https://i.postimg.cc/PJbhCjdD/logo-devant-flocage.png">
    <link rel="apple-touch-icon" href="https://i.postimg.cc/PJbhCjdD/logo-devant-flocage.png">
    <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/PJbhCjdD/logo-devant-flocage.png">
    
    <!-- Open Graph (Helps Google identity the brand image) -->
    <meta property="og:title" content="Agence Laforêt Saint-Avertin">
    <meta property="og:description" content="Votre Estimation Gratuite — Spécialiste immobilier à Saint-Avertin.">
    <meta property="og:image" content="https://i.postimg.cc/PJbhCjdD/logo-devant-flocage.png">
    <meta property="og:type" content="website">
    <meta name="twitter:image" content="https://i.postimg.cc/PJbhCjdD/logo-devant-flocage.png">

    <!-- Google tag (gtag.js) - Global Site Tag -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=AW-11283228533"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'AW-11283228533');
    </script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        laforet: {
                            navy: '#183C89', // Primary Brand
                            cyan: '#00AFED', // Action
                            bg: '#F5F5F7',   // Apple Surface
                        }
                    },
                    boxShadow: {
                        'apple': '0 4px 24px -1px rgba(0, 0, 0, 0.04)',
                        'apple-hover': '0 8px 32px -4px rgba(0, 0, 0, 0.08)',
                        'glow': '0 0 20px rgba(0, 175, 237, 0.25)',
                    }
                }
            }
        }
    </script>

    <!-- Import Map -->
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@18.2.0?dev",
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client?dev",
            "framer-motion": "https://esm.sh/framer-motion@10.16.4?dev&deps=react@18.2.0,react-dom@18.2.0",
            "lucide-react": "https://esm.sh/lucide-react@0.292.0?dev&deps=react@18.2.0"
        }
    }
    </script>

    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <style>
        /* Masquer la scrollbar tout en conservant le scroll */

        /* Chrome, Safari, Edge */
        *::-webkit-scrollbar {
          display: none;
        }

        /* Firefox */
        * {
          scrollbar-width: none;
        }

        /* IE / anciens Edge */
        * {
          -ms-overflow-style: none;
        }

        html, body {
            background-color: #F5F5F7;
            color: #183C89;
            overflow-y: scroll; /* Sécurité supplémentaire */
            -webkit-tap-highlight-color: transparent; /* Supprime le highlight bleu au tap sur mobile */
            touch-action: manipulation; /* Améliore la réactivité tactile */
        }

        /* Skeleton Animation */
        @keyframes pulse-bg {
            0% { background-color: #e5e7eb; }
            50% { background-color: #d1d5db; }
            100% { background-color: #e5e7eb; }
        }
        .skeleton {
            animation: pulse-bg 1.5s infinite;
        }
        
        /* Snap Scroll Utilities for Mobile Carousel */
        .snap-x-mandatory {
            scroll-snap-type: x mandatory;
        }
        .snap-center {
            scroll-snap-align: center;
        }
        
        /* Hide scrollbar for carousels but allow scroll */
        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
    </style>
</head>
<body>
    <div id="root">
        <!-- SKELETON SCREEN (Visible avant le chargement de React) -->
        <div class="min-h-screen bg-[#F5F5F7] flex flex-col">
            <!-- Navbar Skeleton -->
            <div class="h-14 md:h-20 bg-white border-b border-gray-200 flex items-center justify-between px-6 sticky top-0 z-50">
                <div class="w-24 h-8 bg-gray-200 rounded skeleton"></div>
                <div class="w-10 h-10 rounded-full bg-gray-200 skeleton"></div>
            </div>
            <!-- Hero Skeleton -->
            <div class="flex-1 flex flex-col items-center justify-center p-6 space-y-6">
                <div class="w-3/4 h-12 bg-gray-300 rounded-lg skeleton"></div>
                <div class="w-1/2 h-6 bg-gray-200 rounded skeleton"></div>
                <div class="w-full max-w-xs h-16 bg-gray-300 rounded-full skeleton mt-8"></div>
            </div>
        </div>
    </div>

    <!-- Hidden Netlify Form for Detection -->
    <form name="contact" method="POST" netlify data-netlify="true" netlify-honeypot="bot-field" hidden>
        <input type="hidden" name="form-name" value="contact" />
        <input type="hidden" name="bot-field" />
        <input type="text" name="type" />
        <input type="text" name="address" />
        <input type="text" name="zipcode" />
        <input type="text" name="city" />
        <input type="text" name="timeline" />
        <textarea name="message"></textarea>
        <input type="text" name="name" />
        <input type="tel" name="phone" />
        <input type="email" name="email" />
    </form>

    <script type="text/babel" data-type="module">
        import React, { useState, useRef, useEffect } from 'react';
        import { createRoot } from 'react-dom/client';
        import { motion, AnimatePresence } from 'framer-motion';
        import { 
            Phone, 
            MapPin, 
            Home, 
            Building2, 
            ArrowRight,
            CheckCircle2,
            Users,
            Globe2,
            Map,
            Star,
            ShieldCheck,
            Award,
            TrendingUp,
            Network,
            CalendarClock,
            MessageSquarePlus,
            Mail,
            FileText,
            Lightbulb,
            ChevronRight
        } from 'lucide-react';

        // --- ANIMATION PRIMITIVES ---
        // Simplified for mobile performance
        const FADE_IN = {
            hidden: { opacity: 0, y: 15 },
            visible: { 
                opacity: 1, 
                y: 0,
                transition: { duration: 0.5, ease: "easeOut" }
            }
        };

        const SECTION_ANIM = {
            hidden: { opacity: 0, y: 20 },
            visible: { 
                opacity: 1, 
                y: 0, 
                transition: { duration: 0.6, ease: "easeOut" } 
            }
        };

        const STAGGER_CONTAINER = {
            visible: { transition: { staggerChildren: 0.05 } }
        };

        // --- DATA ---
        const googleReviews = [
            {
                author: "Francis DUPONT",
                rating: 5,
                comment: "Nous avons contacté l’agence Laforêt de Saint-Avertin afin d’obtenir une estimation de notre bien immobilier. Malgré cela nous avons obtenu un RDV très rapide. Et avons reçu Vincent, qui s’est montré très professionnel."
            },
            {
                author: "Claude ADR",
                rating: 5,
                comment: "Très bonne rencontre avec l'agence pour un avis de valeur. Le premier contact téléphonique a été très sympathique, suivi d'une rencontre très chaleureuse et professionnelle."
            },
            {
                author: "Ugo Clerici",
                rating: 5,
                comment: "Une agence familiale, réactive, disponible et à l'écoute du besoin du client. Des visites et contre-visites ont été réalisées avec Vincent, Adrien et Olivier."
            },
            {
                author: "Christophe Fontaine",
                rating: 5,
                comment: "Une belle équipe familiale dynamique, sympathique et hyper efficace. Deux biens vendus rapidement en quelques semaines et « au prix ». Bravo à tous !"
            },
            {
                author: "Seb Decout",
                rating: 5,
                comment: "Nous tenons à remercier chaleureusement l'agence LaFORÊT. Olivier a su nous guider avec une connaissance approfondie du terrain, Vincent a été d’une réactivité sans faille."
            },
            {
                author: "Céline M",
                rating: 5,
                comment: "Une entreprise familiale extraordinaire : ils ont réussi à vendre mon appartement en moins d’une semaine alors que seul j’ai attendu pratiquement un an."
            }
        ];

        // --- COMPONENTS ---

        const Navbar = () => (
            <motion.nav 
                initial={{ y: -100 }}
                animate={{ y: 0 }}
                transition={{ duration: 0.4 }}
                className="fixed top-0 left-0 right-0 z-50 bg-white shadow-sm border-b border-gray-100"
            >
                <div className="max-w-7xl mx-auto px-4 md:px-6 h-14 md:h-20 flex items-center justify-between">
                    <div className="flex items-center gap-3 md:gap-4">
                        <img 
                            src="https://i.postimg.cc/PJbhCjdD/logo-devant-flocage.png" 
                            alt="Laforêt" 
                            className="h-6 md:h-10 w-auto object-contain" 
                        />
                         <div className="hidden md:flex flex-col">
                            <span className="text-sm font-bold text-laforet-navy tracking-tight">AGENCE LaFORÊT</span>
                            <span className="text-xs text-gray-500 font-medium">Expertise familiale</span>
                        </div>
                    </div>
                    <a 
                        href="tel:0246466380"
                        className="group flex items-center gap-2 p-2 md:px-5 md:py-2.5 rounded-full bg-laforet-navy text-white font-bold md:font-semibold text-sm active:scale-95 transition-all duration-200 shadow-md md:shadow-none hover:bg-opacity-90"
                        aria-label="Appeler l'agence"
                    >
                        <Phone size={18} className="text-white fill-current" />
                        <span className="hidden sm:inline">02 46 46 63 80</span>
                        <span className="inline sm:hidden uppercase text-xs tracking-wide">Appeler</span>
                    </a>
                </div>
            </motion.nav>
        );

        const TrustPill = ({ icon: Icon, text, className = "", theme = "light" }) => {
            const isDark = theme === "dark";
            const containerClass = isDark 
                ? "bg-black/40 backdrop-blur-md border-white/20 text-white" 
                : "bg-white border-gray-100 text-gray-600";
            
            return (
                <div className={`flex-shrink-0 flex items-center gap-1.5 px-3 py-1.5 rounded-full border shadow-sm whitespace-nowrap ${containerClass} ${className}`}>
                    <Icon className="w-3.5 h-3.5 text-laforet-cyan" />
                    <span className={`text-xs font-medium leading-none ${isDark ? "text-white" : "text-gray-600"}`}>{text}</span>
                </div>
            );
        };

        const Hero = ({ onStart }) => (
            <section className="relative pt-14 md:pt-20 h-[80vh] md:min-h-[600px] md:h-auto flex items-center justify-center overflow-hidden">
                {/* Background Image & Overlay */}
                <div className="absolute inset-0 z-0">
                    <img 
                        src="https://i.postimg.cc/qMVcnC6Y/Generated-Image-December-31-2025-11-37AM.jpg" 
                        alt="Terrasse" 
                        className="w-full h-full object-cover object-center"
                        loading="eager"
                    />
                    {/* Darker Gradient Overlay for Blue Button Contrast */}
                    <div className="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-black/10 mix-blend-multiply transition-colors duration-300" />
                </div>

                <motion.div 
                    initial="hidden"
                    animate="visible"
                    variants={STAGGER_CONTAINER}
                    className="relative z-20 w-full max-w-5xl mx-auto flex flex-col items-center justify-center px-6 h-full md:h-auto md:pt-10 md:pb-20 text-center"
                >
                    {/* Golden Ratio Spacing: Margin Top / Margin Bottom adjusted via flex and padding */}
                    <motion.div variants={FADE_IN} className="flex flex-wrap items-center justify-center gap-2 mb-6 w-full">
                        <TrustPill theme="dark" icon={Star} text="4.9/5 sur Google" />
                        <TrustPill theme="dark" icon={MapPin} text="Saint-Avertin & Larçay" />
                    </motion.div>

                    {/* H1: 34px (Mobile) / Line-height 1.2 */}
                    <motion.h1 
                        variants={FADE_IN}
                        className="text-[34px] md:text-6xl font-extrabold text-white tracking-tight leading-[1.2] drop-shadow-xl max-w-sm md:max-w-none mx-auto mb-4"
                    >
                        Vendez au <span className="text-laforet-cyan">vrai prix</span>.
                    </motion.h1>

                    {/* H2: ~21px (Mobile) / Lighter weight */}
                    <motion.p 
                        variants={FADE_IN}
                        className="text-[21px] md:text-2xl text-white/90 max-w-xl mx-auto mb-10 font-normal drop-shadow-md leading-snug px-2"
                    >
                        Estimation précise sous 48h par une agence familiale experte.
                    </motion.p>

                    {/* CTA: Blue #183C89 / Height 50px / Radius 8px */}
                    <motion.div variants={FADE_IN} className="w-full flex justify-center px-4">
                        <motion.button 
                            whileTap={{ scale: 0.95 }}
                            onClick={onStart}
                            className="w-full max-w-xs bg-laforet-navy text-white h-[50px] rounded-lg font-bold text-lg shadow-lg flex items-center justify-center gap-3 relative overflow-hidden transition-all hover:bg-laforet-navy/90"
                        >
                            <span>Estimer mon bien</span>
                            <ArrowRight size={20} className="text-white" />
                        </motion.button>
                    </motion.div>
                </motion.div>
            </section>
        );

        const FormEngine = () => {
            const [step, setStep] = useState(1);
            const [data, setData] = useState({ 
                type: '', 
                address: '', 
                zipcode: '',
                city: '',
                timeline: '', 
                message: '',
                name: '', 
                phone: '', 
                email: '',
                'bot-field': '' 
            });
            const [isSubmitting, setIsSubmitting] = useState(false);

            const next = () => {
                const el = document.getElementById('audit');
                if(el) {
                    const offset = 70;
                    const bodyRect = document.body.getBoundingClientRect().top;
                    const elementRect = el.getBoundingClientRect().top;
                    const elementPosition = elementRect - bodyRect;
                    const offsetPosition = elementPosition - offset;
                    window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
                }
                setStep(s => s + 1);
            };
            
            const handleTypeSelect = (type) => {
                setData({ ...data, type });
                next();
            };

            const handleCitySelect = (cityName) => {
                 setData({ ...data, city: cityName, zipcode: '37550' }); // 37550 is valid for both usually in this context, or let user adjust
                 // Small delay to show visual feedback
                 setTimeout(next, 150);
            };

            const handleSubmit = async () => {
                if (!data.name || !data.phone || !data.email) return;
                setIsSubmitting(true);
                const encode = (data) => {
                    return Object.keys(data)
                        .map(key => encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
                        .join("&");
                }
                try {
                    await fetch("/", {
                        method: "POST",
                        headers: { "Content-Type": "application/x-www-form-urlencoded" },
                        body: encode({ "form-name": "contact", ...data })
                    });
                    
                    if (typeof window.gtag === 'function') {
                        window.gtag('event', 'conversion', {
                            'send_to': 'AW-11283228533/la_CCNLGi9sbEPXOoYQq'
                        });
                    }

                    setStep(5);
                    const el = document.getElementById('audit');
                    if(el) el.scrollIntoView({ behavior: 'smooth' });
                } catch (error) {
                    alert("Une erreur est survenue lors de l'envoi. Merci de réessayer.");
                    console.error(error);
                } finally {
                    setIsSubmitting(false);
                }
            };

            const timelineOptions = [
                { label: "Immédiat", sub: "0-3 mois" },
                { label: "Moyen terme", sub: "3-12 mois" },
                { label: "Long terme", sub: "12 mois +" },
                { label: "Avis de Valeur", sub: "Curiosité" }
            ];

            return (
                <section id="audit" className="px-4 py-8 md:py-12 bg-white -mt-10 rounded-t-[2.5rem] relative z-30 shadow-[0_-10px_40px_rgba(0,0,0,0.05)]">
                    <motion.div 
                        layout
                        className="w-full max-w-xl mx-auto"
                    >
                        {/* Progress Bar Compact */}
                        <div className="flex gap-2 mb-8 justify-center">
                            {[1, 2, 3, 4].map(i => (
                                <div key={i} className={`h-1.5 w-full rounded-full transition-colors duration-300 ${i <= step ? 'bg-laforet-cyan' : 'bg-gray-100'}`} />
                            ))}
                        </div>

                        <AnimatePresence mode="wait">
                            {step === 1 && (
                                <motion.div key="step1" initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }} className="space-y-6">
                                    <div className="text-center mb-6">
                                        <h3 className="text-2xl font-bold text-laforet-navy">Quel est votre bien ?</h3>
                                    </div>
                                    <div className="grid grid-cols-2 gap-4">
                                        <button onClick={() => handleTypeSelect('Maison')} className="group flex flex-col items-center justify-center p-6 rounded-2xl border-2 border-gray-100 bg-gray-50 hover:border-laforet-cyan hover:bg-white active:scale-95 transition-all duration-200">
                                            <div className="w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm text-laforet-navy border border-gray-100"><Home size={32} /></div>
                                            <span className="text-lg font-bold text-laforet-navy">Maison</span>
                                        </button>
                                        <button onClick={() => handleTypeSelect('Appartement')} className="group flex flex-col items-center justify-center p-6 rounded-2xl border-2 border-gray-100 bg-gray-50 hover:border-laforet-cyan hover:bg-white active:scale-95 transition-all duration-200">
                                            <div className="w-16 h-16 bg-white rounded-full flex items-center justify-center mb-4 shadow-sm text-laforet-navy border border-gray-100"><Building2 size={32} /></div>
                                            <span className="text-lg font-bold text-laforet-navy">Appartement</span>
                                        </button>
                                    </div>
                                </motion.div>
                            )}

                            {step === 2 && (
                                <motion.div key="step2" initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }} className="space-y-6">
                                    <div className="text-center mb-2">
                                        <h3 className="text-2xl font-bold text-laforet-navy">Où se situe le bien ?</h3>
                                        <p className="text-sm text-gray-400">Sélectionnez la commune ou saisissez-la.</p>
                                    </div>

                                    {/* Quick Tap Buttons for Mobile */}
                                    <div className="grid grid-cols-2 gap-3 mb-2">
                                        <button 
                                            onClick={() => handleCitySelect('Saint-Avertin')}
                                            className="py-3 px-2 bg-laforet-navy/5 text-laforet-navy font-bold rounded-xl text-sm border border-transparent hover:border-laforet-navy active:bg-laforet-navy active:text-white transition-all"
                                        >
                                            Saint-Avertin
                                        </button>
                                        <button 
                                            onClick={() => handleCitySelect('Larçay')}
                                            className="py-3 px-2 bg-laforet-navy/5 text-laforet-navy font-bold rounded-xl text-sm border border-transparent hover:border-laforet-navy active:bg-laforet-navy active:text-white transition-all"
                                        >
                                            Larçay
                                        </button>
                                    </div>

                                    <div className="space-y-4">
                                        <div className="relative">
                                            <MapPin className="absolute left-4 top-1/2 -translate-y-1/2 text-gray-400" size={20} />
                                            <input autoFocus type="text" placeholder="Adresse / Rue" className="w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl text-lg font-medium text-laforet-navy focus:bg-white focus:border-laforet-cyan outline-none transition-all" value={data.address} onChange={(e) => setData({ ...data, address: e.target.value })} autoComplete="street-address" />
                                        </div>
                                        <div className="grid grid-cols-2 gap-3">
                                            <input 
                                                type="text" 
                                                inputMode="numeric" 
                                                pattern="[0-9]*"
                                                placeholder="Code Postal" 
                                                className="w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-xl font-medium focus:bg-white focus:border-laforet-cyan outline-none text-center" 
                                                value={data.zipcode} 
                                                onChange={(e) => setData({ ...data, zipcode: e.target.value })} 
                                                autoComplete="postal-code"
                                            />
                                            <input 
                                                type="text" 
                                                placeholder="Ville" 
                                                className="w-full px-4 py-4 bg-gray-50 border border-gray-200 rounded-xl font-medium focus:bg-white focus:border-laforet-cyan outline-none text-center" 
                                                value={data.city} 
                                                onChange={(e) => setData({ ...data, city: e.target.value })} 
                                                onKeyDown={(e) => e.key === 'Enter' && data.address && data.zipcode && data.city && next()} 
                                                autoComplete="address-level2"
                                            />
                                        </div>
                                    </div>
                                    <button onClick={next} disabled={!data.address || !data.zipcode || !data.city} className="w-full bg-laforet-navy text-white font-bold py-4 rounded-xl disabled:opacity-50 active:scale-95 transition-all shadow-lg text-lg flex items-center justify-center gap-2">
                                        Valider <ChevronRight size={20} />
                                    </button>
                                </motion.div>
                            )}

                            {step === 3 && (
                                <motion.div key="step3" initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }} className="space-y-6">
                                    <div className="text-center mb-2">
                                        <h3 className="text-2xl font-bold text-laforet-navy">Votre projet ?</h3>
                                    </div>
                                    <div className="grid grid-cols-1 gap-3">
                                        {timelineOptions.map((opt) => (
                                            <button key={opt.label} onClick={() => setData({ ...data, timeline: opt.label })} className={`p-4 rounded-xl border transition-all flex items-center justify-between text-left active:scale-95 ${data.timeline === opt.label ? 'border-laforet-cyan bg-laforet-cyan/5' : 'border-gray-100 bg-white'}`}>
                                                <div className="flex flex-col">
                                                    <span className={`text-base font-bold ${data.timeline === opt.label ? 'text-laforet-navy' : 'text-gray-700'}`}>{opt.label}</span>
                                                    <span className="text-xs text-gray-400">{opt.sub}</span>
                                                </div>
                                                <div className={`w-5 h-5 rounded-full border-2 flex items-center justify-center ${data.timeline === opt.label ? 'border-laforet-cyan' : 'border-gray-200'}`}>
                                                    {data.timeline === opt.label && <div className="w-2.5 h-2.5 bg-laforet-cyan rounded-full" />}
                                                </div>
                                            </button>
                                        ))}
                                    </div>
                                    <button onClick={next} disabled={!data.timeline} className="w-full bg-laforet-navy text-white font-bold py-4 rounded-xl disabled:opacity-50 active:scale-95 transition-all shadow-lg text-lg flex items-center justify-center gap-2">
                                        Continuer <ChevronRight size={20} />
                                    </button>
                                </motion.div>
                            )}

                            {step === 4 && (
                                <motion.div key="step4" initial={{ opacity: 0, x: 20 }} animate={{ opacity: 1, x: 0 }} exit={{ opacity: 0, x: -20 }} className="space-y-6">
                                    <div className="text-center mb-2">
                                        <h3 className="text-2xl font-bold text-laforet-navy">Recevoir l'estimation</h3>
                                        <p className="text-sm text-gray-400">Vos coordonnées restent confidentielles.</p>
                                    </div>
                                    <div className="space-y-4">
                                        <input type="text" placeholder="Votre nom" className="w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-xl font-medium focus:bg-white focus:border-laforet-cyan outline-none" value={data.name} onChange={(e) => setData({ ...data, name: e.target.value })} autoComplete="name" />
                                        <input 
                                            type="tel" 
                                            inputMode="tel"
                                            placeholder="Numéro de mobile" 
                                            className="w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-xl font-medium focus:bg-white focus:border-laforet-cyan outline-none" 
                                            value={data.phone} 
                                            onChange={(e) => setData({ ...data, phone: e.target.value })} 
                                            autoComplete="tel"
                                        />
                                        <input type="email" inputMode="email" placeholder="Adresse email" className="w-full px-5 py-4 bg-gray-50 border border-gray-200 rounded-xl font-medium focus:bg-white focus:border-laforet-cyan outline-none" value={data.email} onChange={(e) => setData({ ...data, email: e.target.value })} autoComplete="email" />
                                    </div>
                                    <button onClick={handleSubmit} disabled={isSubmitting || !data.name || !data.phone || !data.email} className="w-full bg-laforet-cyan text-white font-bold py-4 rounded-xl hover:bg-laforet-navy shadow-glow active:scale-95 transition-all text-lg flex items-center justify-center gap-2">
                                        {isSubmitting ? 'Envoi...' : 'Voir mon estimation'} <ChevronRight size={20} />
                                    </button>
                                    <p className="text-[10px] text-center text-gray-400">En validant, j'accepte d'être contacté pour mon projet.</p>
                                </motion.div>
                            )}

                            {step === 5 && (
                                <motion.div key="success" initial={{ opacity: 0, scale: 0.9 }} animate={{ opacity: 1, scale: 1 }} className="text-center py-8">
                                    <div className="w-20 h-20 bg-green-50 text-green-500 rounded-full flex items-center justify-center mx-auto mb-6"><CheckCircle2 size={40} /></div>
                                    <h3 className="text-2xl font-bold text-laforet-navy mb-2">Demande reçue !</h3>
                                    <p className="text-gray-500 text-base max-w-xs mx-auto">Votre conseiller expert étudie les éléments. Vous serez contacté très rapidement.</p>
                                </motion.div>
                            )}
                        </AnimatePresence>
                    </motion.div>
                </section>
            );
        };

        const TeamCard = ({ photo, name, role, desc }) => (
            <motion.div variants={FADE_IN} className="flex gap-4 p-5 rounded-2xl bg-white border border-gray-100 shadow-sm">
                <img src={photo} alt={name} className="w-16 h-16 object-cover rounded-xl flex-shrink-0" />
                <div>
                    <h4 className="text-lg font-bold text-laforet-navy leading-none mb-1">{name}</h4>
                    <p className="text-xs font-bold text-laforet-cyan uppercase mb-2">{role}</p>
                    <p className="text-sm text-gray-500 leading-snug line-clamp-3">{desc}</p>
                </div>
            </motion.div>
        );

        const TeamSection = () => (
            <motion.section initial="hidden" whileInView="visible" viewport={{ once: true, amount: 0.1 }} variants={SECTION_ANIM} className="py-16 px-4 bg-[#F5F5F7]">
                <div className="max-w-7xl mx-auto">
                    <div className="mb-10 text-center">
                        <h2 className="text-2xl md:text-4xl font-bold text-laforet-navy mb-3">L'équipe locale</h2>
                        <p className="text-gray-500 text-sm md:text-base">Des experts de Saint-Avertin à vos côtés.</p>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <TeamCard name="Olivier" role="Franchisé" photo="https://i.postimg.cc/qvCXZQ65/LF2025-26-2.jpg" desc="30 ans de direction dans le bâtiment. Sécurise les dossiers techniques." />
                        <TeamCard name="Vincent" role="Agent Commercial" photo="https://i.postimg.cc/k4h2C3kz/LF2025-18.jpg" desc="Expert en négociation internationale. Maximise le net vendeur." />
                        <TeamCard name="Hélène" role="Agent Commercial" photo="https://i.postimg.cc/PfRDsYj9/LF2025-24-2.jpg" desc="30 ans d'expérience bancaire. Valide les financements acquéreurs." />
                        <TeamCard name="Adrien" role="Agent Commercial" photo="https://i.postimg.cc/ThvY2RQD/LF2025-20-2.jpg" desc="Spécialiste marketing digital. Sublime votre bien." />
                    </div>
                </div>
            </motion.section>
        );

        const GoogleReviewsSection = () => (
            <section className="py-16 bg-white border-t border-gray-100 relative">
                <div className="text-center mb-10 px-6">
                    <h2 className="text-2xl md:text-3xl font-bold text-laforet-navy mb-2">Avis Clients</h2>
                    <div className="flex items-center justify-center gap-2 text-amber-500">
                        <div className="flex">
                            {[...Array(5)].map((_, i) => <Star key={i} className="w-5 h-5 fill-current" />)}
                        </div>
                        <span className="text-laforet-navy font-bold text-sm">4.9/5 sur Google</span>
                    </div>
                </div>

                {/* Mobile Snap Carousel / Desktop Grid */}
                <div className="flex overflow-x-auto snap-x snap-mandatory gap-4 px-4 pb-8 md:grid md:grid-cols-3 md:gap-8 md:overflow-visible no-scrollbar">
                    {googleReviews.map((review, index) => (
                        <div key={index} className="snap-center flex-shrink-0 w-[85vw] md:w-auto p-6 bg-[#F9FAFB] rounded-2xl border border-gray-100 flex flex-col justify-between">
                            <div>
                                <div className="flex gap-0.5 mb-3 text-amber-400">
                                    {[...Array(5)].map((_, i) => <Star key={i} size={14} className="fill-current" />)}
                                </div>
                                <p className="text-gray-600 text-sm italic mb-4 leading-relaxed">"{review.comment}"</p>
                            </div>
                            <p className="font-bold text-laforet-navy text-xs uppercase">{review.author}</p>
                        </div>
                    ))}
                </div>
                
                <div className="text-center mt-4">
                     <a 
                        href="https://share.google/MfdTpW9PIsacXfgmq" 
                        target="_blank" 
                        rel="noopener noreferrer"
                        className="inline-flex items-center gap-2 text-laforet-cyan font-bold text-sm hover:underline"
                    >
                        Lire tous les avis Google <ArrowRight size={16} />
                    </a>
                </div>
            </section>
        );

        const LocalInfluenceSection = ({ onCtaClick }) => (
            <section className="py-16 md:py-24 px-4 bg-[#F5F5F7] overflow-hidden">
                <div className="max-w-7xl mx-auto">
                    <div className="text-center mb-12 md:mb-16">
                        <h2 className="text-3xl md:text-4xl font-extrabold text-laforet-navy mb-4 leading-tight">
                            L'Observatoire de l'Immobilier : <br className="hidden md:block"/>Saint-Avertin & Larçay
                        </h2>
                        <p className="text-base md:text-lg text-gray-600 max-w-2xl mx-auto leading-relaxed">
                            Ne vous fiez pas aux estimations nationales. Voici la réalité de notre marché local au 1er janvier 2026.
                        </p>
                    </div>

                    <div className="flex overflow-x-auto snap-x snap-mandatory gap-6 pb-8 md:pb-0 md:grid md:grid-cols-3 md:gap-8 no-scrollbar px-2">
                        
                        {/* CARD 1: PRIX */}
                        <div className="snap-center flex-shrink-0 w-[85vw] md:w-auto bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100 flex flex-col transition-transform hover:-translate-y-1 duration-300">
                            <div className="flex items-center gap-3 mb-6">
                                <div className="p-3 bg-blue-50 text-laforet-navy rounded-xl">
                                    <TrendingUp size={24} />
                                </div>
                                <h3 className="font-bold text-laforet-navy text-xl">Prix au m² Moyen</h3>
                            </div>
                            <div className="space-y-4 mb-8 flex-grow">
                                <div className="flex justify-between items-baseline border-b border-gray-50 pb-3">
                                    <span className="text-gray-600 font-medium">Saint-Avertin</span>
                                    <span className="text-xl font-bold text-laforet-navy">~2 950 €/m²</span>
                                </div>
                                <div className="flex justify-between items-baseline pt-1">
                                    <span className="text-gray-600 font-medium">Larçay</span>
                                    <span className="text-xl font-bold text-laforet-navy">~2 650 €/m²</span>
                                </div>
                            </div>
                            <div className="bg-gray-50 p-5 rounded-xl border border-gray-100 mt-auto">
                                <p className="text-sm text-gray-600 italic leading-snug">
                                    <span className="font-bold text-laforet-cyan not-italic block mb-2 uppercase text-xs tracking-wider">L'avis de l'expert</span>
                                    "Une stabilité rassurante avec une hausse de +3,7 % sur 5 ans à Larçay."
                                </p>
                            </div>
                        </div>

                        {/* CARD 2: INDICATEURS */}
                        <div className="snap-center flex-shrink-0 w-[85vw] md:w-auto bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100 flex flex-col transition-transform hover:-translate-y-1 duration-300">
                            <div className="flex items-center gap-3 mb-6">
                                <div className="p-3 bg-blue-50 text-laforet-navy rounded-xl">
                                    <CalendarClock size={24} />
                                </div>
                                <h3 className="font-bold text-laforet-navy text-xl">Indicateurs de Vente</h3>
                            </div>
                            <div className="space-y-5 mb-8 flex-grow">
                                <div className="flex justify-between items-center border-b border-gray-50 pb-3">
                                    <span className="text-gray-600 font-medium">Délai moyen</span>
                                    <span className="text-xl font-bold text-laforet-navy">89 jours</span>
                                </div>
                                <div>
                                    <div className="flex justify-between items-center mb-1">
                                        <span className="text-gray-600 font-medium">Tension</span>
                                        <span className="text-xs font-bold text-red-600 bg-red-100 px-2 py-1 rounded-full uppercase tracking-wide">Forte</span>
                                    </div>
                                    <p className="text-sm text-gray-500 mt-2">Comptez 8 acheteurs actifs pour 1 bien disponible.</p>
                                </div>
                            </div>
                            <div className="bg-gray-50 p-5 rounded-xl border border-gray-100 mt-auto">
                                <p className="text-sm text-gray-600 italic leading-snug">
                                    <span className="font-bold text-laforet-cyan not-italic block mb-2 uppercase text-xs tracking-wider">L'avis de l'expert</span>
                                    "Le marché favorise les vendeurs ayant une stratégie de prix cohérente dès le lancement."
                                </p>
                            </div>
                        </div>

                        {/* CARD 3: ACQUEREURS */}
                        <div className="snap-center flex-shrink-0 w-[85vw] md:w-auto bg-white rounded-2xl p-6 md:p-8 shadow-sm border border-gray-100 flex flex-col transition-transform hover:-translate-y-1 duration-300">
                            <div className="flex items-center gap-3 mb-6">
                                <div className="p-3 bg-blue-50 text-laforet-navy rounded-xl">
                                    <Users size={24} />
                                </div>
                                <h3 className="font-bold text-laforet-navy text-xl">Profil Acquéreurs</h3>
                            </div>
                            <div className="space-y-5 mb-8 flex-grow">
                                <div className="border-b border-gray-50 pb-3">
                                    <span className="block text-gray-600 font-medium mb-1">Cible prioritaire</span>
                                    <span className="text-lg font-bold text-laforet-navy block">Familles & Cadres</span>
                                    <span className="text-xs text-gray-400">Revenu médian > 38k€/an</span>
                                </div>
                                <div>
                                    <span className="block text-gray-600 font-medium mb-1">Recherche Top 1</span>
                                    <span className="text-sm text-gray-700 leading-snug">Maisons 4-6 pièces, jardin & performance énergétique optimisée.</span>
                                </div>
                            </div>
                            <div className="bg-gray-50 p-5 rounded-xl border border-gray-100 mt-auto">
                                <p className="text-sm text-gray-600 italic leading-snug">
                                    <span className="font-bold text-laforet-cyan not-italic block mb-2 uppercase text-xs tracking-wider">L'avis de l'expert</span>
                                    "72 % des habitants de Saint-Avertin sont propriétaires de leur résidence principale."
                                </p>
                            </div>
                        </div>
                    </div>

                    <div className="mt-12 md:mt-16 text-center max-w-3xl mx-auto px-4">
                        <p className="text-gray-600 text-lg mb-8 leading-relaxed">
                            "Ces chiffres sont des moyennes. Votre maison est unique. Un jardin exposé sud ou une rénovation récente peut valoriser votre bien de <span className="font-bold text-laforet-navy">+15 % par rapport à la moyenne</span> de la rue."
                        </p>
                        <button 
                            onClick={onCtaClick}
                            className="inline-flex items-center justify-center gap-2 bg-laforet-navy text-white font-bold py-4 px-8 rounded-xl shadow-lg hover:bg-laforet-navy/90 transition-all transform active:scale-95 w-full md:w-auto text-lg"
                        >
                            Recevoir mon analyse de marché personnalisée <ArrowRight size={20} />
                        </button>
                    </div>
                </div>
            </section>
        );

        const App = () => {
            const scrollToForm = () => {
                const formEl = document.getElementById('audit');
                if (formEl) {
                     const offset = 70;
                    const bodyRect = document.body.getBoundingClientRect().top;
                    const elementRect = formEl.getBoundingClientRect().top;
                    const elementPosition = elementRect - bodyRect;
                    const offsetPosition = elementPosition - offset;
                    window.scrollTo({ top: offsetPosition, behavior: 'smooth' });
                }
            };
            
            return (
                <div className="min-h-screen bg-[#F5F5F7]">
                    <Navbar />
                    <Hero onStart={scrollToForm} />
                    <FormEngine />
                    <TeamSection />
                    <LocalInfluenceSection onCtaClick={scrollToForm} />
                    <GoogleReviewsSection />
                    <footer className="bg-white py-8 text-center text-xs text-gray-400 border-t pb-20 md:pb-8">
                        <p>&copy; 2025 Laforêt Saint-Avertin.</p>
                        <a href="#" className="underline mt-1 block">Mentions Légales</a>
                    </footer>
                </div>
            );
        };

        const root = createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>